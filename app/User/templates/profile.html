{% extends "UserLayout.html"%}
{% block Title%} Profile | EMS {%endblock Title%}


{% block body%}
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Edit Profile</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="text-center my-4">
                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png"
                        class="avatar img-circle img-thumbnail" alt="avatar">
                    <h6>Upload a different photo...</h6>


                </div>
                <form role="form" method="post" action="profile/update">
                    <input type="file" class="form-control" name="file">
                    <div class="form-group">
                        <label class="col-lg-3 control-label">First name:</label>
                        <div class="col-lg-8">
                            <input class="form-control" value={{user[10]}} type="text" name="fname"
                                placeholder="Enter Your First Name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Last name:</label>
                        <div class="col-lg-8">
                            <input class="form-control" value={{user[11]}} type="text" name="lname"
                                placeholder="Enter Your Last Name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Email:</label>
                        <div class="col-lg-8">
                            <input class="form-control disabled" value={{user[12]}} type="text" value=""
                                placeholder="Your Email" name="email">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Future Goal:</label>
                        <div class="col-lg-8">
                            <input class="form-control" value={{user[7]}} type="text" name="fgoal"
                                placeholder="Your Future Goal">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Mobile No :</label>
                        <div class="col-lg-8">
                            <input class="form-control" value={{user[2]}} type="number" placeholder="Mobile Number"
                                name="mobile">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Interests</label>
                        <div class="col-lg-8">
                            <div class="ui-select">
                                <select id="user_time_zone" class="form-control" name="interest">
                                    <option value="Web Developement">Web Developement</option>
                                    <option value="Android Developement">Android Developement</option>
                                    <option value="Python Developement">Python Developement</option>
                                    <option value="System Application Security">System Application Security</option>
                                    <option value="System Developement">System Developement</option>
                                    <option value="PHP Developement" selected="selected"> PHP Developement
                                    </option>
                                    <option value="Java Developement"> Java Developement</option>
                                    <option value="Desktop Application Developement">Desktop Application Developement
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 control-label">Birthdate :</label>
                        <input type='date' value={{user[4]}} class="form-control" name="bdate" />
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlTextarea1" class="form-label">About YourSelf :</label>
                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                            name="about">{{user[3]}}</textarea>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlTextarea1" class="form-label">Skills :</label>
                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                            name="skills">{{user[6]}}</textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Save changes</button>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
</div>
<section class="common-user-section">
    <!-- Button trigger modal -->
    <div class="container my-4 py-4">
        <div class="profile-session-con card mb-2" style="background-color: rgb(227, 227, 240);">
            <div class="row g-0 conprof">
                <div class="col-md-2">
                    <div class="profile-session-pic-con">
                        <h1>{{user[10][0]}}{{user[11][0]}}</h1>
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="card-body">
                        <h4 class="card-title profile-title">{{user[10]}}</h4>
                        <!-- <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                            additional content. This content is a little bit longer.</p> -->
                        <p class="card-text"><small class="text-body-secondary">Last Updated {{user[8]}}</small></p>
                        <p class="card-text"><small class="text-body-secondary">Created On {{user[14]}}</small></p>
                    </div>
                </div>
                <div class="col-md-3 profile-edit-btn-con">
                    <button type="button" class="btn-resume" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        Edit
                    </button>
                </div>
            </div>
        </div>
        <div class="profile-progress">
            {%if ph>60%}
            <h5 class="profile-heading mx-2 my-3" style="color: green;">Your Profile Health <i
                    class="fa-solid fa-face-smile"></i></h5>
            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25"
                aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar bg-primary" style="width: {{ph}}%">{{ph}}</div>
            </div>
            {%elif ph > 40%}
            <h5 class="profile-heading mx-2 my-3" style="color: orange;">Your Profile Health <i
                    class="fa-solid fa-face-smile-beam"></i></h5>
            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25"
                aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar bg-warning" style="width: {{ph}}%">{{ph}}</div>
            </div>
            {%else%}
            <h5 class="profile-heading mx-2 my-3" style="color: red;">Your Profile Health <i
                    class="fa-solid fa-face-frown"></i></h5>
            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25"
                aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar bg-danger" style="width: {{ph}}%">{{ph}}</div>
            </div>
            {%endif%}
        </div>
    </div>
</section>
<section class="common-user-section py-0">
    <div class="container">
        <div class="card mb-3">
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-3">
                        <h6 class="mb-0">Full Name</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        {{user[10]}} {{user[11]}}
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-sm-3">
                        <h6 class="mb-0">Email</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        {{user[12]}}
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-sm-3">
                        <h6 class="mb-0">Mobile No</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        {{user[2]}}
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-sm-3">
                        <h6 class="mb-0">Interest</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        {{user[5]}}
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-sm-3">
                        <h6 class="mb-0">Future Goal</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        {{user[7]}}
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-12 mb-4 mb-sm-5">
                <div>
                    <span class="section-title text-primary mb-3 mb-sm-4">About Me</span>
                    <p>{{user[3]}}</p>
                </div>
            </div>
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-12 mb-4 mb-sm-5">
                        <div class="mb-4 mb-sm-5">
                            <span class="section-title text-primary mb-3 mb-sm-4">Skill</span>

                            {%if user[6] %}
                            {%for skill in user[6].split(',')%}
                            <div class="progress-text">
                                <div class="row">
                                    <div class="col-6">{{skill}}</div>
                                    <div class="col-6 text-end">80%</div>
                                </div>
                            </div>
                            <div class="custom-progress progress progress-medium mb-3" style="height: 4px;">
                                <div class="animated custom-bar progress-bar slideInLeft bg-secondary" style="width:80%"
                                    aria-valuemax="100" aria-valuemin="0" aria-valuenow="10" role="progressbar"></div>
                            </div>
                            {%endfor%}
                            {%endif%}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{%endblock body%}